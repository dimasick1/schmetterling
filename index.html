<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
  <title>Innomedicus</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css">
  <link rel="stylesheet" href="css/main.css">

  <!-- Для современных браузеров -->
  <link rel="icon" href="">
  <!-- Apple Touch для iOS -->
  <link rel="apple-touch-icon" href="">
  <!-- Для Android и будущих программ -->
  <link rel="manifest" href="manifest.json">
</head>

<body>
  <script defer="defer" type="x-shader/x-fragment" id="PCSS">

        #define LIGHT_WORLD_SIZE 0.005
        #define LIGHT_FRUSTUM_WIDTH 3.75
        #define LIGHT_SIZE_UV (LIGHT_WORLD_SIZE / LIGHT_FRUSTUM_WIDTH)
        #define NEAR_PLANE 9.5

        #define NUM_SAMPLES 17
        #define NUM_RINGS 11
        #define BLOCKER_SEARCH_NUM_SAMPLES NUM_SAMPLES

        vec2 poissonDisk[NUM_SAMPLES];

        void initPoissonSamples( const in vec2 randomSeed ) {
            float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );
            float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );

            // jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/
            float angle = rand( randomSeed ) * PI2;
            float radius = INV_NUM_SAMPLES;
            float radiusStep = radius;

            for( int i = 0; i < NUM_SAMPLES; i ++ ) {
                poissonDisk[i] = vec2( cos( angle ), sin( angle ) ) * pow( radius, 0.75 );
                radius += radiusStep;
                angle += ANGLE_STEP;
            }
        }

        float penumbraSize( const in float zReceiver, const in float zBlocker ) { // Parallel plane estimation
            return (zReceiver - zBlocker) / zBlocker;
        }

        float findBlocker( sampler2D shadowMap, const in vec2 uv, const in float zReceiver ) {
            // This uses similar triangles to compute what
            // area of the shadow map we should search
            float searchRadius = LIGHT_SIZE_UV * ( zReceiver - NEAR_PLANE ) / zReceiver;
            float blockerDepthSum = 0.0;
            int numBlockers = 0;

            for( int i = 0; i < BLOCKER_SEARCH_NUM_SAMPLES; i++ ) {
                float shadowMapDepth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[i] * searchRadius));
                if ( shadowMapDepth < zReceiver ) {
                    blockerDepthSum += shadowMapDepth;
                    numBlockers ++;
                }
            }

            if( numBlockers == 0 ) return -1.0;

            return blockerDepthSum / float( numBlockers );
        }

        float PCF_Filter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius ) {
            float sum = 0.0;
            float depth;
            #pragma unroll_loop_start
            for( int i = 0; i < 17; i ++ ) {
                depth = unpackRGBAToDepth( texture2D( shadowMap, uv + poissonDisk[ i ] * filterRadius ) );
                if( zReceiver <= depth ) sum += 1.0;
            }
            #pragma unroll_loop_end
            #pragma unroll_loop_start
            for( int i = 0; i < 17; i ++ ) {
                depth = unpackRGBAToDepth( texture2D( shadowMap, uv + -poissonDisk[ i ].yx * filterRadius ) );
                if( zReceiver <= depth ) sum += 1.0;
            }
            #pragma unroll_loop_end
            return sum / ( 2.0 * float( 17 ) );
        }

        float PCSS ( sampler2D shadowMap, vec4 coords ) {
            vec2 uv = coords.xy;
            float zReceiver = coords.z; // Assumed to be eye-space z in this code

            initPoissonSamples( uv );
            // STEP 1: blocker search
            float avgBlockerDepth = findBlocker( shadowMap, uv, zReceiver );

            //There are no occluders so early out (this saves filtering)
            if( avgBlockerDepth == -1.0 ) return 1.0;

            // STEP 2: penumbra size
            float penumbraRatio = penumbraSize( zReceiver, avgBlockerDepth );
            float filterRadius = penumbraRatio * LIGHT_SIZE_UV * NEAR_PLANE / zReceiver;

            // STEP 3: filtering
            //return avgBlockerDepth;
            return PCF_Filter( shadowMap, uv, zReceiver, filterRadius );
        }

    </script>

  <script defer="defer" type="x-shader/x-fragment" id="PCSSGetShadow">

        return PCSS( shadowMap, shadowCoord );

    </script>

  <div class="page_wrap">
    <div class="page">
      <header class="header">
  <div class="header__logo">
    <img src="../img/icons/main_icon.png" alt="Main logo">
  </div>
  <div class="header__right header-right">
    <div class="header-right__top">
      <a href="">About us</a>
      <a href="">News</a>
      <a href="">Contacts</a>
      <div class="lang-switch">
        <span>EN</span>
        <div class="vl"></div>
        <span>DE</span>
      </div>
    </div>
    <div class="header-right__bot">
      <nav class="main_nav">
        <ul>
          <li class="dropdown_item">Urology</li>
          <li class="dropdown_item">Radiology</li>
          <li class="dropdown_item">Radio&nbsp;Oncology</li>
          <li class="dropdown_item">Mobile&nbsp;Ultrasound</li>
          <li class="dropdown_item">Microendoscopy</li>
        </ul>
      </nav>
      <div class="searchbar">
        <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M14.2083 12.8333H13.4842L13.2275 12.5858C14.1258 11.5408 14.6667 10.1842 14.6667 8.70833C14.6667 5.4175 11.9992 2.75 8.70833 2.75C5.4175 2.75 2.75 5.4175 2.75 8.70833C2.75 11.9992 5.4175 14.6667 8.70833 14.6667C10.1842 14.6667 11.5408 14.1258 12.5858 13.2275L12.8333 13.4842V14.2083L17.4167 18.7825L18.7825 17.4167L14.2083 12.8333ZM8.70833 12.8333C6.42583 12.8333 4.58333 10.9908 4.58333 8.70833C4.58333 6.42583 6.42583 4.58333 8.70833 4.58333C10.9908 4.58333 12.8333 6.42583 12.8333 8.70833C12.8333 10.9908 10.9908 12.8333 8.70833 12.8333Z" fill="#707070"/>
        </svg>
        <input class="search" type="text" placeholder="Search">
      </div>
    </div>
  </div>
  <div class="header_ellipse">
    <img src="../img/ellipse_header.png" alt="">
  </div>
</header>

      <section class="scene">
        <div class="scene__left">
          <h1>With You Every Step of the Way</h1>
          <p>Your partner for innovative medical technologies. Supporting you on the path of <span>transformation</span>
            towards the
            medicine of tomorrow.</p>
        </div>
        <div class="scene__right" id="three">

        </div>
        <div class="soap_bulb">
        </div>
      </section>

      <div class="swipers">
        <div class="swiper thumb-swiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide thumb">
              <div class="thumb__text swiper-slide--large">
                <div class="thumb__category">
                  <span>Urology</span>
                </div>
                <h4 class="thumb__title">WiScope Cysto</h4>
                <p class="thumb__sub-title">Single-Use Digital Flexible Cystoscope </p>
                <p class="thumb__content">
                  The WiScope Single-Use Digital Flexible Cystoscope delivers
                  high-resolution digital images and allows with its navigation capability to visually
                  assess <br>
                  the urethra and the urinary bladder.
                </p>
                <button class="thumb__learn">
                  LEARN MORE
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16.0054 9.414L7.39838 18.021L5.98438 16.607L14.5904 8H7.00538V6H18.0054V17H16.0054V9.414Z" fill="white"/>
                  </svg>
                </button>
              </div>
            </div>
            <div class="swiper-slide thumb">
              <div class="thumb__text swiper-slide--large">
                <div class="thumb__category">
                  <span>Urology</span>
                </div>
                <h4 class="thumb__title">WiScope Cysto</h4>
                <p class="thumb__sub-title">Single-Use Digital Flexible Cystoscope </p>
                <p class="thumb__content">
                  The WiScope Single-Use Digital Flexible Cystoscope delivers
                  high-resolution digital images and allows with its navigation capability to visually
                  assess <br>
                  the urethra and the urinary bladder.
                </p>
                <button class="thumb__learn">
                  LEARN MORE
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16.0054 9.414L7.39838 18.021L5.98438 16.607L14.5904 8H7.00538V6H18.0054V17H16.0054V9.414Z" fill="white"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="swiper not-thumb-swiper">
          <!-- Additional required wrapper -->
          <div class="swiper-wrapper">
            <!-- Slides -->
            <div class="swiper-slide">
              <div class="swiper-slide--small text">
                <img src="./img/wicope.png" alt="Building sample">
              </div>
            </div>
            <div class="swiper-slide">
              <div class="swiper-slide--small text">
                <img src="./img/wicope2.png" alt="Building sample">
              </div>
            </div>
          </div>

          <div class="swiper-button-prev">
            <img src="./img/icons/arrow-left.svg" alt="arrow-left">
          </div>
          <div class="swiper-button-next">
            <img src="./img/icons/arrow-right.svg" alt="arrow-right">
          </div>
        </div>

        <div class="slider">
          <!-- <img src="./img/slider_bg.png" alt=""> -->
          <img src="./img/placeholder.png" alt="" draggable="false">
          <img class="img--abs" src="./img/swiper_mainitem_bg.png" alt="">
        </div>
      </div>
    </div>
  </div>



  <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
  <script src="js/main.js"></script>
</body>

</html>